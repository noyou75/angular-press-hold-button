<button
  (mousedown)="startAction($event)"
  (mouseup)="stopAction()"
  (mouseleave)="stopAction()"
  (touchstart)="startAction($event)"
  (touchend)="stopAction()"
  (touchcancel)="stopAction()"
  [ngStyle]="{ 'background-color': backgroundColor }"
  class="press-hold-button"
>
  <div class="icon-container">
    <ng-container *ngIf="currentState === 'start'">
      <ng-content select="[slot='left'][when='start']"></ng-content>
    </ng-container>
    <ng-container *ngIf="currentState === 'progress'">
      <ng-content select="[slot='left'][when='progress']"></ng-content>
    </ng-container>
    <ng-container *ngIf="currentState === 'finish'">
      <ng-content select="[slot='left'][when='finish']"></ng-content>
    </ng-container>
  </div>

  <span class="label-container">{{ label }}</span>

  <div class="icon-container">
    <ng-container *ngIf="currentState === 'start'">
      <ng-content select="[slot='right'][when='start']"></ng-content>
    </ng-container>
    <ng-container *ngIf="currentState === 'progress'">
      <ng-content select="[slot='right'][when='progress']"></ng-content>
    </ng-container>
    <ng-container *ngIf="currentState === 'finish'">
      <ng-content select="[slot='right'][when='finish']"></ng-content>
    </ng-container>
  </div>

  <div
    #progressBar
    class="progress-bar"
    [ngStyle]="{ 'background-color': progressColor }"
  ></div>
</button>
